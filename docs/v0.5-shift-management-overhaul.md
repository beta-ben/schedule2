# v0.5 – Shift Management Overhaul

Goal: Modernize the shift management UX and guardrails to make adding, editing, and auditing shifts fast, safe, and clear.

## Scope
- Add Shifts: streamlined, conflict-aware, bulk add flows with clearer defaults.
- Edit Shifts: agent-focused view with inline edits, conflict checks, and keyboard support.
- Bulk ops: select, dedupe, delete, and move/copy with proper confirmations.
- Validation: robust HH:MM, overnight handling, and cross-day overlap checks.
- Preview: side-by-side week preview that optionally filters to the selected agent.
- Accents: better empty states, counts, and accessible controls.

## Planned Changes
- Split “Add” and “Edit” into clearer panels with distinct actions.
- Tighten conflict detection and messages for overnight and cross-day.
- Improve datalist/agent selection and remember last used agent.
- Make action buttons consistent (radius/height/colors) with Schedule header.
- Add tests for utils: intervals, overlap, shiftKey, spillover.

## Milestones
1) UX polish and structure (panels, controls, consistent styling)
2) Conflict/validation hardening + overnight edge cases
3) Bulk operations: selection flows and confirmations
4) Preview fidelity and performance
5) Tests, docs, and cleanup

## Tasks
- [ ] Review current `ShiftManagerPanel` for edge cases and missing warnings
- [ ] Extract conflict helpers from component into `lib/utils.ts` with tests
- [ ] Keyboard-friendly inline editor (Esc/Enter)
- [ ] Bulk select: select-all, clear, delete, dedupe, future: move/copy
- [ ] Consistent styles for inputs/buttons (match Schedule page)
- [ ] Side preview toggles and agent-only mode
- [ ] Empty states with guidance
- [ ] Add unit tests for time math and overlaps

## Notes
- Keep minute-aligned updates and dark/light consistency across controls.
- Continue to keep borders crisp and radii unified.
